import{d,o as a,c as i,t as f,r as u,a as s,w as k,v as $,b as C,e as w,n as A,f as m,g as p,F as O,h as z,u as E,i as M}from"./vendor.c9c90029.js";const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}};S();const B={name:"Agent",agent:!0};function v(r){return Object.freeze(r.map(t=>({name:t,agent:!1})))}const b=[{name:"Bank",roles:v(["Anlageberater:in","Filialleiter:in","Kassierer:in","Kreditberater:in","Kund:in","R\xE4uber:in","Wachperson"])},{name:"Casino",roles:v(["Barkeeper","Betr\xFCger:in","Croupier","Dealer","T\xFCrsteher:in","Sicherheitschef:in","Spieler:in"])},{name:"Milit\xE4rbasis",roles:v(["Deserteur:in","Gefreiter","Kantinenchef:in","Milit\xE4rarzt / Milit\xE4rarztin","Oberst","Wachposten","Unteroffizier"])},{name:"Weltraumstation",roles:v(["Arzt / \xC4rztin","Astronaut:in","Au\xDFerirdischer","Bordingenieur:in","IT-Techniker:in","Weltraumtourist:in","Wissenschaftler:in"])}].map(r=>Object.freeze(r));function L(){return b}function N(){const r=Math.floor(Math.random()*b.length);return b[r]}function F(r,t){if(r.roles.length<t)throw new Error("The location does not have enough roles.");if(t<3)throw new Error("At least three different roles must be requested.");const e=[...x(r.roles).slice(0,t-1),B];return x(e)}function x(r){const t=[...r];for(let n=t.length-1;n>0;n--){const l=Math.floor(Math.random()*(n+1));[t[n],t[l]]=[t[l],t[n]]}return t}const P={class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded"},_=d({props:{label:null},setup(r){return(t,n)=>(a(),i("button",P,f(r.label),1))}}),R=s("p",{class:"text-lg mb-6"},"Wie viele Spieler:innen?",-1),W={class:"mb-8"},D=d({emits:["game-started"],setup(r){const t=u(3);return(n,l)=>(a(),i("div",null,[R,s("div",W,[k(s("input",{class:"p-1 border border-gray-300",type:"number",min:"3",max:"8","onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e)},null,512),[[$,t.value]])]),C(_,{label:"Spiel starten",onClick:l[1]||(l[1]=e=>n.$emit("game-started",t.value))})]))}});var K=(r,t)=>{const n=r.__vccOpts||r;for(const[l,e]of t)n[l]=e;return n};const T={class:"text-lg mb-6"},I={class:"text-2xl font-bold"},U={class:"text-xl"},V=d({props:{number:null,name:null,location:null},emits:["next-player"],setup(r){const t=r,n=u(!1);return w([t],()=>n.value=!1),(l,e)=>(a(),i("div",null,[s("p",T,"Spieler:in "+f(r.number+1),1),s("div",{class:A(["mb-8",n.value?"":"blurred"])},[s("p",I,f(n.value?r.name:"Unbekannt"),1),s("p",U,f(n.value&&r.location?r.location:"Unbekannt"),1)],2),n.value?p("",!0):(a(),m(_,{key:0,onClick:e[0]||(e[0]=o=>n.value=!0),label:"Anzeigen"})),n.value?(a(),m(_,{key:1,onClick:e[1]||(e[1]=o=>l.$emit("next-player")),label:"N\xE4chster Spieler"})):p("",!0)]))}});var j=K(V,[["__scopeId","data-v-0560e5d7"]]);const G=s("p",{class:"text-lg mb-6"},"Alle Orte",-1),q={class:"flex flex-col flex-wrap"},H=d({props:{locations:null},setup(r){return(t,n)=>(a(),i("div",null,[G,s("div",q,[(a(!0),i(O,null,z(r.locations,l=>(a(),i("div",{key:l.name,class:"flex-shrink-0"},f(l.name),1))),128))])]))}}),J={class:"p-4"},Q={class:"p-4 bg-gray-100 rounded-xl h-full"},X=d({setup(r){const t=L(),n=u(null),l=u(null),e=u(0),o=u(0);function c(h){e.value=h,n.value=N(),l.value=F(n.value,h),o.value=0}function y(){o.value++}return(h,Y)=>{var g;return a(),i("div",J,[s("div",Q,[e.value<1?(a(),m(D,{key:0,onGameStarted:c})):p("",!0),e.value>0&&o.value<e.value&&l.value!==null?(a(),m(j,{key:1,number:o.value,name:l.value[o.value].name,location:l.value[o.value].agent||(g=n.value)==null?void 0:g.name,onNextPlayer:y},null,8,["number","name","location"])):p("",!0),e.value>0&&o.value==e.value?(a(),m(H,{key:2,locations:E(t)},null,8,["locations"])):p("",!0)])])}}});M(X).mount("#app");
